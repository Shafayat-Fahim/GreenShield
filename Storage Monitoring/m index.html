<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Storage Monitoring - Harvest Track Pro</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<link rel="stylesheet" href="storage-monitoring.css">
<link rel="stylesheet" href="m style.css">
</head>
<body>
<!-- Navigation Bar -->
<nav class="navbar">
<a href="#" class="navbar-brand">
<i class="fas fa-leaf"></i> HarvestTrack 
</a>
<div class="navbar-menu">
<a href="index.html" class="navbar-item">Dashboard</a>
<a href="#" class="navbar-item">Analytics</a>
<a href="#" class="navbar-item">Reports</a>
<a href="#" class="navbar-item">Settings</a>
</div>

<div class="navbar-end">
<div class="notification-icon">
<i class="fas fa-bell"></i>
<span class="notification-badge">5</span>
</div>

<div class="user-dropdown">
<div class="user-avatar">JD</div>
<span class="user-name">John Doe</span>
<i class="fas fa-chevron-down dropdown-icon"></i>
</div>
</div>
</nav>

<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
<ul class="sidebar-menu">
<li class="sidebar-item">
<a href="index.html" class="sidebar-link">
    <i class="fas fa-tachometer-alt sidebar-icon"></i>
    <span class="sidebar-text">Dashboard</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-box-open sidebar-icon"></i>
    <span class="sidebar-text">Inventory</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-tractor sidebar-icon"></i>
    <span class="sidebar-text">Farmer</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-truck sidebar-icon"></i>
    <span class="sidebar-text">Receiving</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-shipping-fast sidebar-icon"></i>
    <span class="sidebar-text">Distribution</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link active">
    <i class="fas fa-thermometer-half sidebar-icon"></i>
    <span class="sidebar-text">Storage Monitoring</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-exclamation-triangle sidebar-icon"></i>
    <span class="sidebar-text">Loss Management</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-chart-line sidebar-icon"></i>
    <span class="sidebar-text">Analytics</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-file-alt sidebar-icon"></i>
    <span class="sidebar-text">Reports</span>
</a>
</li>
<li class="sidebar-item">
<a href="#" class="sidebar-link">
    <i class="fas fa-cog sidebar-icon"></i>
    <span class="sidebar-text">Settings</span>
</a>
</li>
</ul>
</aside>

<button class="sidebar-toggle" id="sidebar-toggle">
<i class="fas fa-chevron-left" id="toggle-icon"></i>
</button>

<!-- Main Content -->
<main class="main-content" id="main-content">
<div class="page-title">
<h1>Storage Monitoring</h1>
<div class="action-buttons">
<button class="btn btn-outlined">
    <i class="fas fa-filter btn-icon"></i> Filter
</button>
<button class="btn btn-primary">
    <i class="fas fa-plus btn-icon"></i> Add Storage Zone
</button>
</div>
</div>

<!-- Storage Status Cards -->
<div class="dashboard-stats">
<div class="stat-card">
<div class="stat-icon storage-count">
    <i class="fas fa-warehouse"></i>
</div>
<div class="stat-info">
    <h3>8</h3>
    <p>Active Storage Zones</p>
</div>
</div>

<div class="stat-card">
<div class="stat-icon alerts">
    <i class="fas fa-exclamation-circle"></i>
</div>
<div class="stat-info">
    <h3>5</h3>
    <p>Active Alerts</p>
</div>
</div>

<div class="stat-card">
<div class="stat-icon optimal">
    <i class="fas fa-check-circle"></i>
</div>
<div class="stat-info">
    <h3>75%</h3>
    <p>Zones in Optimal Range</p>
</div>
</div>

<div class="stat-card">
<div class="stat-icon sensors">
    <i class="fas fa-satellite-dish"></i>
</div>
<div class="stat-info">
    <h3>24/24</h3>
    <p>Sensors Online</p>
</div>
</div>
</div>

<!-- Storage Zones Overview -->
<div class="storage-map-container">
<div class="card">
<div class="card-header">
    <h2 class="card-title">Storage Facility Map</h2>
    <div>
        <select class="time-period" id="refresh-rate">
            <option value="30">Refresh: 30s</option>
            <option value="60">Refresh: 1m</option>
            <option value="300">Refresh: 5m</option>
        </select>
    </div>
</div>
<div class="card-body">
    <div class="storage-map">
        <div class="storage-zone-block optimal" data-zone="cold-storage-a">
            <h4>Cold Storage A</h4>
            <div class="zone-stats">
                <div class="zone-stat">4.2°C</div>
                <div class="zone-stat">82% RH</div>
            </div>
        </div>
        <div class="storage-zone-block warning" data-zone="ripening-room-b">
            <h4>Ripening Room B</h4>
            <div class="zone-stats">
                <div class="zone-stat">16.8°C</div>
                <div class="zone-stat">72% RH</div>
            </div>
        </div>
        <div class="storage-zone-block warning" data-zone="ripening-room-c">
            <h4>Ripening Room C</h4>
            <div class="zone-stats">
                <div class="zone-stat">15.5°C</div>
                <div class="zone-stat">65% RH</div>
            </div>
        </div>
        <div class="storage-zone-block optimal" data-zone="cold-storage-b">
            <h4>Cold Storage B</h4>
            <div class="zone-stats">
                <div class="zone-stat">3.8°C</div>
                <div class="zone-stat">88% RH</div>
            </div>
        </div>
        <div class="storage-zone-block critical" data-zone="freezer-1">
            <h4>Freezer 1</h4>
            <div class="zone-stats">
                <div class="zone-stat">-15.2°C</div>
                <div class="zone-stat">90% RH</div>
            </div>
        </div>
        <div class="storage-zone-block optimal" data-zone="root-cellar-a">
            <h4>Root Cellar A</h4>
            <div class="zone-stats">
                <div class="zone-stat">12.5°C</div>
                <div class="zone-stat">85% RH</div>
            </div>
        </div>
        <div class="storage-zone-block optimal" data-zone="room-temp-d">
            <h4>Room Temp D</h4>
            <div class="zone-stats">
                <div class="zone-stat">20.1°C</div>
                <div class="zone-stat">55% RH</div>
            </div>
        </div>
        <div class="storage-zone-block optimal" data-zone="dry-storage">
            <h4>Dry Storage</h4>
            <div class="zone-stats">
                <div class="zone-stat">22.0°C</div>
                <div class="zone-stat">30% RH</div>
            </div>
        </div>
    </div>
</div>
</div>
</div>

<div class="grid-2">
<!-- Temperature Chart -->
<div class="card">
<div class="card-header">
    <h2 class="card-title">Temperature History</h2>
    <div>
        <select class="time-period" id="temp-time-range">
            <option value="24">Last 24 Hours</option>
            <option value="48">Last 48 Hours</option>
            <option value="168">Last 7 Days</option>
        </select>
    </div>
</div>
<div class="card-body">
    <div class="chart-container">
        <canvas id="temperatureChart"></canvas>
    </div>
</div>
</div>

<!-- Humidity Chart -->
<div class="card">
<div class="card-header">
    <h2 class="card-title">Humidity History</h2>
    <div>
        <select class="time-period" id="humidity-time-range">
            <option value="24">Last 24 Hours</option>
            <option value="48">Last 48 Hours</option>
            <option value="168">Last 7 Days</option>
        </select>
    </div>
</div>
<div class="card-body">
    <div class="chart-container">
        <canvas id="humidityChart"></canvas>
    </div>
</div>
</div>
</div>

<!-- Storage Zone Details -->
<div class="card" id="zone-details-card">
<div class="card-header">
<h2 class="card-title">Storage Zone Details</h2>
<button class="btn btn-outlined btn-sm" id="edit-thresholds-btn">Edit Thresholds</button>
</div>
<div class="card-body">
<div class="zone-details-container">
    <div class="zone-info">
        <h3 id="selected-zone-title">Select a zone from the map above</h3>
        <div class="zone-specs">
            <div class="zone-spec">
                <span class="spec-label">Zone Type:</span>
                <span class="spec-value" id="zone-type">-</span>
            </div>
            <div class="zone-spec">
                <span class="spec-label">Size:</span>
                <span class="spec-value" id="zone-size">-</span>
            </div>
            <div class="zone-spec">
                <span class="spec-label">Capacity:</span>
                <span class="spec-value" id="zone-capacity">-</span>
            </div>
            <div class="zone-spec">
                <span class="spec-label">Current Load:</span>
                <span class="spec-value" id="zone-load">-</span>
            </div>
            <div class="zone-spec">
                <span class="spec-label">Last Maintenance:</span>
                <span class="spec-value" id="zone-maintenance">-</span>
            </div>
        </div>
    </div>
    
    <div class="current-readings">
        <div class="reading-card">
            <div class="reading-icon">
                <i class="fas fa-thermometer-half"></i>
            </div>
            <div class="reading-value" id="current-temp">-</div>
            <div class="reading-label">Temperature</div>
            <div class="optimal-range" id="optimal-temp">Optimal: -</div>
        </div>
        
        <div class="reading-card">
            <div class="reading-icon">
                <i class="fas fa-tint"></i>
            </div>
            <div class="reading-value" id="current-humidity">-</div>
            <div class="reading-label">Humidity</div>
            <div class="optimal-range" id="optimal-humidity">Optimal: -</div>
        </div>
        
        <div class="reading-card">
            <div class="reading-icon">
                <i class="fas fa-wind"></i>
            </div>
            <div class="reading-value" id="current-airflow">-</div>
            <div class="reading-label">Air Flow</div>
            <div class="optimal-range" id="optimal-airflow">Optimal: -</div>
        </div>
        
        <div class="reading-card">
            <div class="reading-icon">
                <i class="fas fa-stopwatch"></i>
            </div>
            <div class="reading-value" id="door-open-time">-</div>
            <div class="reading-label">Door Open Time</div>
            <div class="optimal-range">Last 24h</div>
        </div>
    </div>
</div>

<div class="inventory-in-zone">
    <h3>Inventory in Zone</h3>
    <div class="table-responsive">
        <table id="zone-inventory-table">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Batch ID</th>
                    <th>Quantity</th>
                    <th>Harvest Date</th>
                    <th>Freshness Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="5" class="empty-table-message">Select a zone to view inventory</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
</div>
</div>

<!-- Alerts Section -->
<div class="card">
<div class="card-header">
<h2 class="card-title">Active Storage Alerts</h2>
<div>
    <select class="alert-filter" id="alert-priority">
        <option value="all">All Priorities</option>
        <option value="critical">Critical</option>
        <option value="warning">Warning</option>
        <option value="info">Info</option>
    </select>
</div>
</div>
<div class="card-body">
<ul class="alert-list">
    <li class="alert-item critical">
        <div class="alert-icon">
            <i class="fas fa-exclamation-circle"></i>
        </div>
        <div class="alert-content">
            <h4 class="alert-title">Critical Temperature Alert - Freezer 1</h4>
            <p class="alert-message">Temperature risen above threshold (-18°C). Currently at -15.2°C. Affects: 120kg of Frozen Berries.</p>
            <div class="alert-actions">
                <button class="btn btn-sm btn-danger">Resolve</button>
                <button class="btn btn-sm btn-outlined">Assign</button>
                <button class="btn btn-sm btn-outlined">Details</button>
            </div>
            <p class="alert-time">15 minutes ago</p>
        </div>
    </li>
    <li class="alert-item warning">
        <div class="alert-icon">
            <i class="fas fa-temperature-high"></i>
        </div>
        <div class="alert-content">
            <h4 class="alert-title">Temperature Alert - Ripening Room B</h4>
            <p class="alert-message">Temperature risen above threshold (16°C). Currently at 16.8°C. Affects: 180kg of Bananas.</p>
            <div class="alert-actions">
                <button class="btn btn-sm btn-danger">Resolve</button>
                <button class="btn btn-sm btn-outlined">Assign</button>
                <button class="btn btn-sm btn-outlined">Details</button>
            </div>
            <p class="alert-time">45 minutes ago</p>
        </div>
    </li>
    <li class="alert-item warning">
        <div class="alert-icon">
            <i class="fas fa-cloud"></i>
        </div>
        <div class="alert-content">
            <h4 class="alert-title">Humidity Alert - Ripening Room C</h4>
            <p class="alert-message">Humidity levels below optimal range (65% vs. 70-75% target). Affects: 210kg of Bananas.</p>
            <div class="alert-actions">
                <button class="btn btn-sm btn-danger">Resolve</button>
                <button class="btn btn-sm btn-outlined">Assign</button>
                <button class="btn btn-sm btn-outlined">Details</button>
            </div>
            <p class="alert-time">1 hour ago</p>
        </div>
    </li>
    <li class="alert-item warning">
        <div class="alert-icon">
            <i class="fas fa-door-open"></i>
        </div>
        <div class="alert-content">
            <h4 class="alert-title">Door Alert - Cold Storage A</h4>
            <p class="alert-message">Door open time exceeds threshold (5 minutes). Door has been open for 7 minutes.</p>
            <div class="alert-actions">
                <button class="btn btn-sm btn-danger">Resolve</button>
                <button class="btn btn-sm btn-outlined">Assign</button>
                <button class="btn btn-sm btn-outlined">Details</button>
            </div>
            <p class="alert-time">2 hours ago</p>
        </div>
    </li>
    <li class="alert-item info">
        <div class="alert-icon">
            <i class="fas fa-tools"></i>
        </div>
        <div class="alert-content">
            <h4 class="alert-title">Maintenance Due - Cold Storage B</h4>
            <p class="alert-message">Regular maintenance due in 3 days. Last maintenance was 87 days ago.</p>
            <div class="alert-actions">
                <button class="btn btn-sm btn-danger">Resolve</button>
                <button class="btn btn-sm btn-outlined">Schedule</button>
                <button class="btn btn-sm btn-outlined">Details</button>
            </div>
            <p class="alert-time">5 hours ago</p>
        </div>
    </li>
</ul>
</div>
</div>

<!-- Threshold Settings Modal (hidden by default) -->
<div class="modal" id="thresholds-modal">
<div class="modal-content">
<div class="modal-header">
    <h2>Edit Storage Thresholds</h2>
    <button class="close-modal">&times;</button>
</div>
<div class="modal-body">
    <form id="thresholds-form">
        <div class="form-section">
            <h3 id="modal-zone-title">Zone Name</h3>
            
            <div class="form-group">
                <label>Temperature Range (°C)</label>
                <div class="range-inputs">
                    <input type="number" id="temp-min" step="0.1" placeholder="Min">
                    <span>to</span>
                    <input type="number" id="temp-max" step="0.1" placeholder="Max">
                </div>
            </div>
            
            <div class="form-group">
                <label>Humidity Range (%)</label>
                <div class="range-inputs">
                    <input type="number" id="humidity-min" placeholder="Min">
                    <span>to</span>
                    <input type="number" id="humidity-max" placeholder="Max">
                </div>
            </div>
            
            <div class="form-group">
                <label>Air Flow Range (m³/h)</label>
                <div class="range-inputs">
                    <input type="number" id="airflow-min" placeholder="Min">
                    <span>to</span>
                    <input type="number" id="airflow-max" placeholder="Max">
                </div>
            </div>
            
            <div class="form-group">
                <label>Max Door Open Time (minutes/hour)</label>
                <input type="number" id="door-open-max">
            </div>
        </div>
        
        <div class="form-section">
            <h3>Alert Settings</h3>
            
            <div class="form-group">
                <label>Warning Threshold (% from optimal range)</label>
                <input type="number" id="warning-threshold" value="10">
            </div>
            
            <div class="form-group">
                <label>Critical Threshold (% from optimal range)</label>
                <input type="number" id="critical-threshold" value="20">
            </div>
            
            <div class="form-group checkbox-group">
                <label>Alert Methods</label>
                <diAv class="checkbox-options">
                    <label><input type="checkbox" checked> Dashboard</label>
                    <label><input type="checkbox" checked> Email</label>
                    <label><input type="checkbox" checked> SMS</label>
                    <label><input type="checkbox"> Push Notification</label>
                </div>
            </div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-outlined" id="cancel-thresholds">Cancel</button>
    <button class="btn btn-primary" id="save-thresholds">Save Changes</button>
</div>
</div>
</div>
</main>

<script src="m style.js"></script>
</body>
</html>